<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" type="text/css" media="all" th:href="@{/css/styles.css}" href="../static/css/styles.css"/>
<link rel="stylesheet" type="text/css" media="all" th:href="@{/css/chessboard-1.0.0.css}" href="../static/css/chessboard-1.0.0.css"/>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div th:replace="fragments/header :: header">header</div>
<main>
    <div class="container">
    <div class="content">
        <div id="myBoard" style="width: 400px"></div>
    </div>
        <div class="content">
            <a class="button" id="prevButton"><</a>
            <a class="button" id="nextButton">></a>
        </div>
    </div>
</main>
<div th:replace="fragments/footer :: footer">footer</div>

<script type="text/javascript" src="../static/js/jquery-3.6.0.js" th:src="@{/js/jquery-3.6.0.js}"></script>
<script type="text/javascript" src="../static/js/chessboard-1.0.0.js" th:src="@{/js/chessboard-1.0.0.js}"></script>
<script type="text/javascript" src="../static/js/chess.js" th:src="@{/js/chess.js}"></script>
<script th:inline="javascript">
    const board = Chessboard('myBoard', 'start');
    const game = new Chess();
    let prevMove = /*[[${movesList}]]*/ [].length;
    let counterNext = -1;
    let movesjs = /*[[${movesList}]]*/ [];
    $('#prevButton').on('click',function() {
        game.undo();
        board.position(game.fen());
        counterNext = --counterNext;
    })
    $('#nextButton').on('click',function() {
        counterNext = ++counterNext;
        prevMove[counterNext] = board.position();
        game.move(movesjs[counterNext]);
        board.position(game.fen());
    })
</script>
</body>
</html>